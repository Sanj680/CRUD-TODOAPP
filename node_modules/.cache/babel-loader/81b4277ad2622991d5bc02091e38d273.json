{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\sanja\\\\Downloads\\\\todo-react-main\\\\todo-react-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\sanja\\\\Downloads\\\\todo-react-main\\\\todo-react-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Affix from '../affix';\nimport { ConfigContext } from '../config-provider';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport warning from '../_util/warning';\nimport AnchorContext from './context';\nimport AnchorLink from './AnchorLink';\nimport useStyle from './style';\n\nfunction getDefaultContainer() {\n  return window;\n}\n\nfunction getOffsetTop(element, container) {\n  if (!element.getClientRects().length) {\n    return 0;\n  }\n\n  var rect = element.getBoundingClientRect();\n\n  if (rect.width || rect.height) {\n    if (container === window) {\n      container = element.ownerDocument.documentElement;\n      return rect.top - container.clientTop;\n    }\n\n    return rect.top - container.getBoundingClientRect().top;\n  }\n\n  return rect.top;\n}\n\nvar sharpMatcherRegx = /#([\\S ]+)$/;\n\nvar AnchorContent = function AnchorContent(props) {\n  var _a;\n\n  var rootClassName = props.rootClassName,\n      prefixCls = props.anchorPrefixCls,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className,\n      style = props.style,\n      offsetTop = props.offsetTop,\n      _props$affix = props.affix,\n      affix = _props$affix === void 0 ? true : _props$affix,\n      _props$showInkInFixed = props.showInkInFixed,\n      showInkInFixed = _props$showInkInFixed === void 0 ? false : _props$showInkInFixed,\n      children = props.children,\n      items = props.items,\n      bounds = props.bounds,\n      targetOffset = props.targetOffset,\n      onClick = props.onClick,\n      onChange = props.onChange,\n      getContainer = props.getContainer,\n      getCurrentAnchor = props.getCurrentAnchor; // =================== Warning =====================\n\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(!children, 'Anchor', '`Anchor children` is deprecated. Please use `items` instead.') : void 0;\n  }\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      links = _React$useState2[0],\n      setLinks = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      activeLink = _React$useState4[0],\n      setActiveLink = _React$useState4[1];\n\n  var activeLinkRef = React.useRef(activeLink);\n  var wrapperRef = React.useRef(null);\n  var spanLinkNode = React.useRef(null);\n  var animating = React.useRef(false);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      direction = _React$useContext.direction,\n      getTargetContainer = _React$useContext.getTargetContainer;\n\n  var getCurrentContainer = (_a = getContainer !== null && getContainer !== void 0 ? getContainer : getTargetContainer) !== null && _a !== void 0 ? _a : getDefaultContainer;\n  var dependencyListItem = JSON.stringify(links);\n  var registerLink = React.useCallback(function (link) {\n    if (!links.includes(link)) {\n      setLinks(function (prev) {\n        return [].concat(_toConsumableArray(prev), [link]);\n      });\n    }\n  }, [dependencyListItem]);\n  var unregisterLink = React.useCallback(function (link) {\n    if (links.includes(link)) {\n      setLinks(function (prev) {\n        return prev.filter(function (i) {\n          return i !== link;\n        });\n      });\n    }\n  }, [dependencyListItem]);\n\n  var updateInk = function updateInk() {\n    var _a;\n\n    var linkNode = (_a = wrapperRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(prefixCls, \"-link-title-active\"));\n\n    if (linkNode && spanLinkNode.current) {\n      spanLinkNode.current.style.top = \"\".concat(linkNode.offsetTop + linkNode.clientHeight / 2, \"px\");\n      spanLinkNode.current.style.height = \"\".concat(linkNode.clientHeight, \"px\");\n    }\n  };\n\n  var getInternalCurrentAnchor = function getInternalCurrentAnchor(_links) {\n    var _offsetTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var _bounds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n\n    var linkSections = [];\n    var container = getCurrentContainer();\n\n    _links.forEach(function (link) {\n      var sharpLinkMatch = sharpMatcherRegx.exec(link === null || link === void 0 ? void 0 : link.toString());\n\n      if (!sharpLinkMatch) {\n        return;\n      }\n\n      var target = document.getElementById(sharpLinkMatch[1]);\n\n      if (target) {\n        var top = getOffsetTop(target, container);\n\n        if (top < _offsetTop + _bounds) {\n          linkSections.push({\n            link: link,\n            top: top\n          });\n        }\n      }\n    });\n\n    if (linkSections.length) {\n      var maxSection = linkSections.reduce(function (prev, curr) {\n        return curr.top > prev.top ? curr : prev;\n      });\n      return maxSection.link;\n    }\n\n    return '';\n  };\n\n  var setCurrentActiveLink = function setCurrentActiveLink(link) {\n    if (activeLinkRef.current === link) {\n      return;\n    } // https://github.com/ant-design/ant-design/issues/30584\n\n\n    var newLink = typeof getCurrentAnchor === 'function' ? getCurrentAnchor(link) : link;\n    setActiveLink(newLink);\n    activeLinkRef.current = newLink; // onChange should respect the original link (which may caused by\n    // window scroll or user click), not the new link\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(link);\n  };\n\n  var handleScroll = React.useCallback(function () {\n    if (animating.current) {\n      return;\n    }\n\n    if (typeof getCurrentAnchor === 'function') {\n      return;\n    }\n\n    var currentActiveLink = getInternalCurrentAnchor(links, targetOffset !== undefined ? targetOffset : offsetTop || 0, bounds);\n    setCurrentActiveLink(currentActiveLink);\n  }, [dependencyListItem, targetOffset, offsetTop]);\n  var handleScrollTo = React.useCallback(function (link) {\n    setCurrentActiveLink(link);\n    var container = getCurrentContainer();\n    var scrollTop = getScroll(container, true);\n    var sharpLinkMatch = sharpMatcherRegx.exec(link);\n\n    if (!sharpLinkMatch) {\n      return;\n    }\n\n    var targetElement = document.getElementById(sharpLinkMatch[1]);\n\n    if (!targetElement) {\n      return;\n    }\n\n    var eleOffsetTop = getOffsetTop(targetElement, container);\n    var y = scrollTop + eleOffsetTop;\n    y -= targetOffset !== undefined ? targetOffset : offsetTop || 0;\n    animating.current = true;\n    scrollTo(y, {\n      getContainer: getCurrentContainer,\n      callback: function callback() {\n        animating.current = false;\n      }\n    });\n  }, [targetOffset, offsetTop]);\n  var inkClass = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-ink-ball-visible\"), activeLink), \"\".concat(prefixCls, \"-ink-ball\"));\n  var wrapperClass = classNames(rootClassName, \"\".concat(prefixCls, \"-wrapper\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  var anchorClass = classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-fixed\"), !affix && !showInkInFixed));\n  var wrapperStyle = Object.assign({\n    maxHeight: offsetTop ? \"calc(100vh - \".concat(offsetTop, \"px)\") : '100vh'\n  }, style);\n\n  var createNestedLink = function createNestedLink(options) {\n    return Array.isArray(options) ? options.map(function (item) {\n      return /*#__PURE__*/React.createElement(AnchorLink, Object.assign({}, item, {\n        key: item.key\n      }), createNestedLink(item.children));\n    }) : null;\n  };\n\n  var anchorContent = /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: wrapperClass,\n    style: wrapperStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: anchorClass\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-ink\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: inkClass,\n    ref: spanLinkNode\n  })), 'items' in props ? createNestedLink(items) : children));\n  React.useEffect(function () {\n    var scrollContainer = getCurrentContainer();\n    handleScroll();\n    scrollContainer === null || scrollContainer === void 0 ? void 0 : scrollContainer.addEventListener('scroll', handleScroll);\n    return function () {\n      scrollContainer === null || scrollContainer === void 0 ? void 0 : scrollContainer.removeEventListener('scroll', handleScroll);\n    };\n  }, [dependencyListItem]);\n  React.useEffect(function () {\n    if (typeof getCurrentAnchor === 'function') {\n      setCurrentActiveLink(getCurrentAnchor(activeLinkRef.current || ''));\n    }\n  }, [getCurrentAnchor]);\n  React.useEffect(function () {\n    updateInk();\n  }, [getCurrentAnchor, dependencyListItem, activeLink]);\n  var memoizedContextValue = React.useMemo(function () {\n    return {\n      registerLink: registerLink,\n      unregisterLink: unregisterLink,\n      scrollTo: handleScrollTo,\n      activeLink: activeLink,\n      onClick: onClick\n    };\n  }, [activeLink, onClick, handleScrollTo]);\n  return /*#__PURE__*/React.createElement(AnchorContext.Provider, {\n    value: memoizedContextValue\n  }, affix ? /*#__PURE__*/React.createElement(Affix, {\n    offsetTop: offsetTop,\n    target: getCurrentContainer\n  }, anchorContent) : anchorContent);\n};\n\nvar Anchor = function Anchor(props) {\n  var customizePrefixCls = props.prefixCls;\n\n  var _React$useContext2 = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext2.getPrefixCls;\n\n  var anchorPrefixCls = getPrefixCls('anchor', customizePrefixCls);\n\n  var _useStyle = useStyle(anchorPrefixCls),\n      _useStyle2 = _slicedToArray(_useStyle, 2),\n      wrapSSR = _useStyle2[0],\n      hashId = _useStyle2[1];\n\n  return wrapSSR( /*#__PURE__*/React.createElement(AnchorContent, Object.assign({}, props, {\n    rootClassName: hashId,\n    anchorPrefixCls: anchorPrefixCls\n  })));\n};\n\nexport default Anchor;","map":{"version":3,"sources":["C:/Users/sanja/Downloads/todo-react-main/todo-react-main/node_modules/antd/es/anchor/Anchor.js"],"names":["_toConsumableArray","classNames","React","Affix","ConfigContext","getScroll","scrollTo","warning","AnchorContext","AnchorLink","useStyle","getDefaultContainer","window","getOffsetTop","element","container","getClientRects","length","rect","getBoundingClientRect","width","height","ownerDocument","documentElement","top","clientTop","sharpMatcherRegx","AnchorContent","props","_a","rootClassName","prefixCls","anchorPrefixCls","className","style","offsetTop","affix","showInkInFixed","children","items","bounds","targetOffset","onClick","onChange","getContainer","getCurrentAnchor","process","env","NODE_ENV","useState","links","setLinks","activeLink","setActiveLink","activeLinkRef","useRef","wrapperRef","spanLinkNode","animating","useContext","direction","getTargetContainer","getCurrentContainer","dependencyListItem","JSON","stringify","registerLink","useCallback","link","includes","prev","concat","unregisterLink","filter","i","updateInk","linkNode","current","querySelector","clientHeight","getInternalCurrentAnchor","_links","_offsetTop","arguments","undefined","_bounds","linkSections","forEach","sharpLinkMatch","exec","toString","target","document","getElementById","push","maxSection","reduce","curr","setCurrentActiveLink","newLink","handleScroll","currentActiveLink","handleScrollTo","scrollTop","targetElement","eleOffsetTop","y","callback","inkClass","wrapperClass","anchorClass","wrapperStyle","Object","assign","maxHeight","createNestedLink","options","Array","isArray","map","item","createElement","key","anchorContent","ref","useEffect","scrollContainer","addEventListener","removeEventListener","memoizedContextValue","useMemo","Provider","value","Anchor","customizePrefixCls","getPrefixCls","wrapSSR","hashId"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Affix from '../affix';\nimport { ConfigContext } from '../config-provider';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport warning from '../_util/warning';\nimport AnchorContext from './context';\nimport AnchorLink from './AnchorLink';\nimport useStyle from './style';\nfunction getDefaultContainer() {\n  return window;\n}\nfunction getOffsetTop(element, container) {\n  if (!element.getClientRects().length) {\n    return 0;\n  }\n  const rect = element.getBoundingClientRect();\n  if (rect.width || rect.height) {\n    if (container === window) {\n      container = element.ownerDocument.documentElement;\n      return rect.top - container.clientTop;\n    }\n    return rect.top - container.getBoundingClientRect().top;\n  }\n  return rect.top;\n}\nconst sharpMatcherRegx = /#([\\S ]+)$/;\nconst AnchorContent = props => {\n  var _a;\n  const {\n    rootClassName,\n    anchorPrefixCls: prefixCls,\n    className = '',\n    style,\n    offsetTop,\n    affix = true,\n    showInkInFixed = false,\n    children,\n    items,\n    bounds,\n    targetOffset,\n    onClick,\n    onChange,\n    getContainer,\n    getCurrentAnchor\n  } = props;\n  // =================== Warning =====================\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(!children, 'Anchor', '`Anchor children` is deprecated. Please use `items` instead.') : void 0;\n  }\n  const [links, setLinks] = React.useState([]);\n  const [activeLink, setActiveLink] = React.useState(null);\n  const activeLinkRef = React.useRef(activeLink);\n  const wrapperRef = React.useRef(null);\n  const spanLinkNode = React.useRef(null);\n  const animating = React.useRef(false);\n  const {\n    direction,\n    getTargetContainer\n  } = React.useContext(ConfigContext);\n  const getCurrentContainer = (_a = getContainer !== null && getContainer !== void 0 ? getContainer : getTargetContainer) !== null && _a !== void 0 ? _a : getDefaultContainer;\n  const dependencyListItem = JSON.stringify(links);\n  const registerLink = React.useCallback(link => {\n    if (!links.includes(link)) {\n      setLinks(prev => [].concat(_toConsumableArray(prev), [link]));\n    }\n  }, [dependencyListItem]);\n  const unregisterLink = React.useCallback(link => {\n    if (links.includes(link)) {\n      setLinks(prev => prev.filter(i => i !== link));\n    }\n  }, [dependencyListItem]);\n  const updateInk = () => {\n    var _a;\n    const linkNode = (_a = wrapperRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`.${prefixCls}-link-title-active`);\n    if (linkNode && spanLinkNode.current) {\n      spanLinkNode.current.style.top = `${linkNode.offsetTop + linkNode.clientHeight / 2}px`;\n      spanLinkNode.current.style.height = `${linkNode.clientHeight}px`;\n    }\n  };\n  const getInternalCurrentAnchor = function (_links) {\n    let _offsetTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let _bounds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n    const linkSections = [];\n    const container = getCurrentContainer();\n    _links.forEach(link => {\n      const sharpLinkMatch = sharpMatcherRegx.exec(link === null || link === void 0 ? void 0 : link.toString());\n      if (!sharpLinkMatch) {\n        return;\n      }\n      const target = document.getElementById(sharpLinkMatch[1]);\n      if (target) {\n        const top = getOffsetTop(target, container);\n        if (top < _offsetTop + _bounds) {\n          linkSections.push({\n            link,\n            top\n          });\n        }\n      }\n    });\n    if (linkSections.length) {\n      const maxSection = linkSections.reduce((prev, curr) => curr.top > prev.top ? curr : prev);\n      return maxSection.link;\n    }\n    return '';\n  };\n  const setCurrentActiveLink = link => {\n    if (activeLinkRef.current === link) {\n      return;\n    }\n    // https://github.com/ant-design/ant-design/issues/30584\n    const newLink = typeof getCurrentAnchor === 'function' ? getCurrentAnchor(link) : link;\n    setActiveLink(newLink);\n    activeLinkRef.current = newLink;\n    // onChange should respect the original link (which may caused by\n    // window scroll or user click), not the new link\n    onChange === null || onChange === void 0 ? void 0 : onChange(link);\n  };\n  const handleScroll = React.useCallback(() => {\n    if (animating.current) {\n      return;\n    }\n    if (typeof getCurrentAnchor === 'function') {\n      return;\n    }\n    const currentActiveLink = getInternalCurrentAnchor(links, targetOffset !== undefined ? targetOffset : offsetTop || 0, bounds);\n    setCurrentActiveLink(currentActiveLink);\n  }, [dependencyListItem, targetOffset, offsetTop]);\n  const handleScrollTo = React.useCallback(link => {\n    setCurrentActiveLink(link);\n    const container = getCurrentContainer();\n    const scrollTop = getScroll(container, true);\n    const sharpLinkMatch = sharpMatcherRegx.exec(link);\n    if (!sharpLinkMatch) {\n      return;\n    }\n    const targetElement = document.getElementById(sharpLinkMatch[1]);\n    if (!targetElement) {\n      return;\n    }\n    const eleOffsetTop = getOffsetTop(targetElement, container);\n    let y = scrollTop + eleOffsetTop;\n    y -= targetOffset !== undefined ? targetOffset : offsetTop || 0;\n    animating.current = true;\n    scrollTo(y, {\n      getContainer: getCurrentContainer,\n      callback() {\n        animating.current = false;\n      }\n    });\n  }, [targetOffset, offsetTop]);\n  const inkClass = classNames({\n    [`${prefixCls}-ink-ball-visible`]: activeLink\n  }, `${prefixCls}-ink-ball`);\n  const wrapperClass = classNames(rootClassName, `${prefixCls}-wrapper`, {\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, className);\n  const anchorClass = classNames(prefixCls, {\n    [`${prefixCls}-fixed`]: !affix && !showInkInFixed\n  });\n  const wrapperStyle = Object.assign({\n    maxHeight: offsetTop ? `calc(100vh - ${offsetTop}px)` : '100vh'\n  }, style);\n  const createNestedLink = options => Array.isArray(options) ? options.map(item => /*#__PURE__*/React.createElement(AnchorLink, Object.assign({}, item, {\n    key: item.key\n  }), createNestedLink(item.children))) : null;\n  const anchorContent = /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: wrapperClass,\n    style: wrapperStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: anchorClass\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-ink`\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: inkClass,\n    ref: spanLinkNode\n  })), 'items' in props ? createNestedLink(items) : children));\n  React.useEffect(() => {\n    const scrollContainer = getCurrentContainer();\n    handleScroll();\n    scrollContainer === null || scrollContainer === void 0 ? void 0 : scrollContainer.addEventListener('scroll', handleScroll);\n    return () => {\n      scrollContainer === null || scrollContainer === void 0 ? void 0 : scrollContainer.removeEventListener('scroll', handleScroll);\n    };\n  }, [dependencyListItem]);\n  React.useEffect(() => {\n    if (typeof getCurrentAnchor === 'function') {\n      setCurrentActiveLink(getCurrentAnchor(activeLinkRef.current || ''));\n    }\n  }, [getCurrentAnchor]);\n  React.useEffect(() => {\n    updateInk();\n  }, [getCurrentAnchor, dependencyListItem, activeLink]);\n  const memoizedContextValue = React.useMemo(() => ({\n    registerLink,\n    unregisterLink,\n    scrollTo: handleScrollTo,\n    activeLink,\n    onClick\n  }), [activeLink, onClick, handleScrollTo]);\n  return /*#__PURE__*/React.createElement(AnchorContext.Provider, {\n    value: memoizedContextValue\n  }, affix ? /*#__PURE__*/React.createElement(Affix, {\n    offsetTop: offsetTop,\n    target: getCurrentContainer\n  }, anchorContent) : anchorContent);\n};\nconst Anchor = props => {\n  const {\n    prefixCls: customizePrefixCls\n  } = props;\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const anchorPrefixCls = getPrefixCls('anchor', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(anchorPrefixCls);\n  return wrapSSR( /*#__PURE__*/React.createElement(AnchorContent, Object.assign({}, props, {\n    rootClassName: hashId,\n    anchorPrefixCls: anchorPrefixCls\n  })));\n};\nexport default Anchor;"]},"metadata":{},"sourceType":"module"}