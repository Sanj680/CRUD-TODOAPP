{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearContainerCache = clearContainerCache;\nexports.injectCSS = injectCSS;\nexports.removeCSS = removeCSS;\nexports.updateCSS = updateCSS;\n\nvar _canUseDom = _interopRequireDefault(require(\"./canUseDom\"));\n\nvar _contains = _interopRequireDefault(require(\"./contains\"));\n\nvar APPEND_ORDER = 'data-rc-order';\nvar MARK_KEY = \"rc-util-key\";\nvar containerCache = new Map();\n\nfunction getMark() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      mark = _ref.mark;\n\n  if (mark) {\n    return mark.startsWith('data-') ? mark : \"data-\".concat(mark);\n  }\n\n  return MARK_KEY;\n}\n\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n\n  var head = document.querySelector('head');\n  return head || document.body;\n}\n\nfunction getOrder(prepend) {\n  if (prepend === 'queue') {\n    return 'prependQueue';\n  }\n\n  return prepend ? 'prepend' : 'append';\n}\n/**\n * Find style which inject by rc-util\n */\n\n\nfunction findStyles(container) {\n  return Array.from((containerCache.get(container) || container).children).filter(function (node) {\n    return node.tagName === 'STYLE';\n  });\n}\n\nfunction injectCSS(css) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!(0, _canUseDom.default)()) {\n    return null;\n  }\n\n  var csp = option.csp,\n      prepend = option.prepend;\n  var styleNode = document.createElement('style');\n  styleNode.setAttribute(APPEND_ORDER, getOrder(prepend));\n\n  if (csp === null || csp === void 0 ? void 0 : csp.nonce) {\n    styleNode.nonce = csp === null || csp === void 0 ? void 0 : csp.nonce;\n  }\n\n  styleNode.innerHTML = css;\n  var container = getContainer(option);\n  var firstChild = container.firstChild;\n\n  if (prepend) {\n    // If is queue `prepend`, it will prepend first style and then append rest style\n    if (prepend === 'queue') {\n      var existStyle = findStyles(container).filter(function (node) {\n        return ['prepend', 'prependQueue'].includes(node.getAttribute(APPEND_ORDER));\n      });\n\n      if (existStyle.length) {\n        container.insertBefore(styleNode, existStyle[existStyle.length - 1].nextSibling);\n        return styleNode;\n      }\n    } // Use `insertBefore` as `prepend`\n\n\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n\n  return styleNode;\n}\n\nfunction findExistNode(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var container = getContainer(option);\n  return findStyles(container).find(function (node) {\n    return node.getAttribute(getMark(option)) === key;\n  });\n}\n\nfunction removeCSS(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var existNode = findExistNode(key, option);\n\n  if (existNode) {\n    var container = getContainer(option);\n    container.removeChild(existNode);\n  }\n}\n/**\n * qiankun will inject `appendChild` to insert into other\n */\n\n\nfunction syncRealContainer(container, option) {\n  var cachedRealContainer = containerCache.get(container); // Find real container when not cached or cached container removed\n\n  if (!cachedRealContainer || !(0, _contains.default)(document, cachedRealContainer)) {\n    var placeholderStyle = injectCSS('', option);\n    var parentNode = placeholderStyle.parentNode;\n    containerCache.set(container, parentNode);\n    container.removeChild(placeholderStyle);\n  }\n}\n/**\n * manually clear container cache to avoid global cache in unit testes\n */\n\n\nfunction clearContainerCache() {\n  containerCache.clear();\n}\n\nfunction updateCSS(css, key) {\n  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var container = getContainer(option); // Sync real parent\n\n  syncRealContainer(container, option);\n  var existNode = findExistNode(key, option);\n\n  if (existNode) {\n    var _option$csp, _option$csp2;\n\n    if (((_option$csp = option.csp) === null || _option$csp === void 0 ? void 0 : _option$csp.nonce) && existNode.nonce !== ((_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce)) {\n      var _option$csp3;\n\n      existNode.nonce = (_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce;\n    }\n\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n\n    return existNode;\n  }\n\n  var newNode = injectCSS(css, option);\n  newNode.setAttribute(getMark(option), key);\n  return newNode;\n}","map":{"version":3,"sources":["C:/Users/sanja/Downloads/todo-react-main/todo-react-main/node_modules/rc-util/lib/Dom/dynamicCSS.js"],"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","clearContainerCache","injectCSS","removeCSS","updateCSS","_canUseDom","_contains","APPEND_ORDER","MARK_KEY","containerCache","Map","getMark","_ref","arguments","length","undefined","mark","startsWith","concat","getContainer","option","attachTo","head","document","querySelector","body","getOrder","prepend","findStyles","container","Array","from","get","children","filter","node","tagName","css","csp","styleNode","createElement","setAttribute","nonce","innerHTML","firstChild","existStyle","includes","getAttribute","insertBefore","nextSibling","appendChild","findExistNode","key","find","existNode","removeChild","syncRealContainer","cachedRealContainer","placeholderStyle","parentNode","set","clear","_option$csp","_option$csp2","_option$csp3","newNode"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAAP,CAAwDC,OAArF;;AACAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,mBAAR,GAA8BA,mBAA9B;AACAF,OAAO,CAACG,SAAR,GAAoBA,SAApB;AACAH,OAAO,CAACI,SAAR,GAAoBA,SAApB;AACAJ,OAAO,CAACK,SAAR,GAAoBA,SAApB;;AACA,IAAIC,UAAU,GAAGX,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAvC;;AACA,IAAIW,SAAS,GAAGZ,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAtC;;AACA,IAAIY,YAAY,GAAG,eAAnB;AACA,IAAIC,QAAQ,GAAG,aAAf;AACA,IAAIC,cAAc,GAAG,IAAIC,GAAJ,EAArB;;AACA,SAASC,OAAT,GAAmB;AACjB,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAAA,MACEG,IAAI,GAAGJ,IAAI,CAACI,IADd;;AAEA,MAAIA,IAAJ,EAAU;AACR,WAAOA,IAAI,CAACC,UAAL,CAAgB,OAAhB,IAA2BD,IAA3B,GAAkC,QAAQE,MAAR,CAAeF,IAAf,CAAzC;AACD;;AACD,SAAOR,QAAP;AACD;;AACD,SAASW,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,MAAIA,MAAM,CAACC,QAAX,EAAqB;AACnB,WAAOD,MAAM,CAACC,QAAd;AACD;;AACD,MAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;AACA,SAAOF,IAAI,IAAIC,QAAQ,CAACE,IAAxB;AACD;;AACD,SAASC,QAAT,CAAkBC,OAAlB,EAA2B;AACzB,MAAIA,OAAO,KAAK,OAAhB,EAAyB;AACvB,WAAO,cAAP;AACD;;AACD,SAAOA,OAAO,GAAG,SAAH,GAAe,QAA7B;AACD;AACD;;;;;AAGA,SAASC,UAAT,CAAoBC,SAApB,EAA+B;AAC7B,SAAOC,KAAK,CAACC,IAAN,CAAW,CAACtB,cAAc,CAACuB,GAAf,CAAmBH,SAAnB,KAAiCA,SAAlC,EAA6CI,QAAxD,EAAkEC,MAAlE,CAAyE,UAAUC,IAAV,EAAgB;AAC9F,WAAOA,IAAI,CAACC,OAAL,KAAiB,OAAxB;AACD,GAFM,CAAP;AAGD;;AACD,SAASlC,SAAT,CAAmBmC,GAAnB,EAAwB;AACtB,MAAIjB,MAAM,GAAGP,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;;AACA,MAAI,CAAC,CAAC,GAAGR,UAAU,CAACT,OAAf,GAAL,EAAgC;AAC9B,WAAO,IAAP;AACD;;AACD,MAAI0C,GAAG,GAAGlB,MAAM,CAACkB,GAAjB;AAAA,MACEX,OAAO,GAAGP,MAAM,CAACO,OADnB;AAEA,MAAIY,SAAS,GAAGhB,QAAQ,CAACiB,aAAT,CAAuB,OAAvB,CAAhB;AACAD,EAAAA,SAAS,CAACE,YAAV,CAAuBlC,YAAvB,EAAqCmB,QAAQ,CAACC,OAAD,CAA7C;;AACA,MAAIW,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAACI,KAAlD,EAAyD;AACvDH,IAAAA,SAAS,CAACG,KAAV,GAAkBJ,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAACI,KAAhE;AACD;;AACDH,EAAAA,SAAS,CAACI,SAAV,GAAsBN,GAAtB;AACA,MAAIR,SAAS,GAAGV,YAAY,CAACC,MAAD,CAA5B;AACA,MAAIwB,UAAU,GAAGf,SAAS,CAACe,UAA3B;;AACA,MAAIjB,OAAJ,EAAa;AACX;AACA,QAAIA,OAAO,KAAK,OAAhB,EAAyB;AACvB,UAAIkB,UAAU,GAAGjB,UAAU,CAACC,SAAD,CAAV,CAAsBK,MAAtB,CAA6B,UAAUC,IAAV,EAAgB;AAC5D,eAAO,CAAC,SAAD,EAAY,cAAZ,EAA4BW,QAA5B,CAAqCX,IAAI,CAACY,YAAL,CAAkBxC,YAAlB,CAArC,CAAP;AACD,OAFgB,CAAjB;;AAGA,UAAIsC,UAAU,CAAC/B,MAAf,EAAuB;AACrBe,QAAAA,SAAS,CAACmB,YAAV,CAAuBT,SAAvB,EAAkCM,UAAU,CAACA,UAAU,CAAC/B,MAAX,GAAoB,CAArB,CAAV,CAAkCmC,WAApE;AACA,eAAOV,SAAP;AACD;AACF,KAVU,CAWX;;;AACAV,IAAAA,SAAS,CAACmB,YAAV,CAAuBT,SAAvB,EAAkCK,UAAlC;AACD,GAbD,MAaO;AACLf,IAAAA,SAAS,CAACqB,WAAV,CAAsBX,SAAtB;AACD;;AACD,SAAOA,SAAP;AACD;;AACD,SAASY,aAAT,CAAuBC,GAAvB,EAA4B;AAC1B,MAAIhC,MAAM,GAAGP,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;AACA,MAAIgB,SAAS,GAAGV,YAAY,CAACC,MAAD,CAA5B;AACA,SAAOQ,UAAU,CAACC,SAAD,CAAV,CAAsBwB,IAAtB,CAA2B,UAAUlB,IAAV,EAAgB;AAChD,WAAOA,IAAI,CAACY,YAAL,CAAkBpC,OAAO,CAACS,MAAD,CAAzB,MAAuCgC,GAA9C;AACD,GAFM,CAAP;AAGD;;AACD,SAASjD,SAAT,CAAmBiD,GAAnB,EAAwB;AACtB,MAAIhC,MAAM,GAAGP,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;AACA,MAAIyC,SAAS,GAAGH,aAAa,CAACC,GAAD,EAAMhC,MAAN,CAA7B;;AACA,MAAIkC,SAAJ,EAAe;AACb,QAAIzB,SAAS,GAAGV,YAAY,CAACC,MAAD,CAA5B;AACAS,IAAAA,SAAS,CAAC0B,WAAV,CAAsBD,SAAtB;AACD;AACF;AACD;;;;;AAGA,SAASE,iBAAT,CAA2B3B,SAA3B,EAAsCT,MAAtC,EAA8C;AAC5C,MAAIqC,mBAAmB,GAAGhD,cAAc,CAACuB,GAAf,CAAmBH,SAAnB,CAA1B,CAD4C,CAE5C;;AACA,MAAI,CAAC4B,mBAAD,IAAwB,CAAC,CAAC,GAAGnD,SAAS,CAACV,OAAd,EAAuB2B,QAAvB,EAAiCkC,mBAAjC,CAA7B,EAAoF;AAClF,QAAIC,gBAAgB,GAAGxD,SAAS,CAAC,EAAD,EAAKkB,MAAL,CAAhC;AACA,QAAIuC,UAAU,GAAGD,gBAAgB,CAACC,UAAlC;AACAlD,IAAAA,cAAc,CAACmD,GAAf,CAAmB/B,SAAnB,EAA8B8B,UAA9B;AACA9B,IAAAA,SAAS,CAAC0B,WAAV,CAAsBG,gBAAtB;AACD;AACF;AACD;;;;;AAGA,SAASzD,mBAAT,GAA+B;AAC7BQ,EAAAA,cAAc,CAACoD,KAAf;AACD;;AACD,SAASzD,SAAT,CAAmBiC,GAAnB,EAAwBe,GAAxB,EAA6B;AAC3B,MAAIhC,MAAM,GAAGP,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;AACA,MAAIgB,SAAS,GAAGV,YAAY,CAACC,MAAD,CAA5B,CAF2B,CAG3B;;AACAoC,EAAAA,iBAAiB,CAAC3B,SAAD,EAAYT,MAAZ,CAAjB;AACA,MAAIkC,SAAS,GAAGH,aAAa,CAACC,GAAD,EAAMhC,MAAN,CAA7B;;AACA,MAAIkC,SAAJ,EAAe;AACb,QAAIQ,WAAJ,EAAiBC,YAAjB;;AACA,QAAI,CAAC,CAACD,WAAW,GAAG1C,MAAM,CAACkB,GAAtB,MAA+B,IAA/B,IAAuCwB,WAAW,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,WAAW,CAACpB,KAAtF,KAAgGY,SAAS,CAACZ,KAAV,MAAqB,CAACqB,YAAY,GAAG3C,MAAM,CAACkB,GAAvB,MAAgC,IAAhC,IAAwCyB,YAAY,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,YAAY,CAACrB,KAA7G,CAApG,EAAyN;AACvN,UAAIsB,YAAJ;;AACAV,MAAAA,SAAS,CAACZ,KAAV,GAAkB,CAACsB,YAAY,GAAG5C,MAAM,CAACkB,GAAvB,MAAgC,IAAhC,IAAwC0B,YAAY,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,YAAY,CAACtB,KAA1G;AACD;;AACD,QAAIY,SAAS,CAACX,SAAV,KAAwBN,GAA5B,EAAiC;AAC/BiB,MAAAA,SAAS,CAACX,SAAV,GAAsBN,GAAtB;AACD;;AACD,WAAOiB,SAAP;AACD;;AACD,MAAIW,OAAO,GAAG/D,SAAS,CAACmC,GAAD,EAAMjB,MAAN,CAAvB;AACA6C,EAAAA,OAAO,CAACxB,YAAR,CAAqB9B,OAAO,CAACS,MAAD,CAA5B,EAAsCgC,GAAtC;AACA,SAAOa,OAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearContainerCache = clearContainerCache;\nexports.injectCSS = injectCSS;\nexports.removeCSS = removeCSS;\nexports.updateCSS = updateCSS;\nvar _canUseDom = _interopRequireDefault(require(\"./canUseDom\"));\nvar _contains = _interopRequireDefault(require(\"./contains\"));\nvar APPEND_ORDER = 'data-rc-order';\nvar MARK_KEY = \"rc-util-key\";\nvar containerCache = new Map();\nfunction getMark() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    mark = _ref.mark;\n  if (mark) {\n    return mark.startsWith('data-') ? mark : \"data-\".concat(mark);\n  }\n  return MARK_KEY;\n}\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n  var head = document.querySelector('head');\n  return head || document.body;\n}\nfunction getOrder(prepend) {\n  if (prepend === 'queue') {\n    return 'prependQueue';\n  }\n  return prepend ? 'prepend' : 'append';\n}\n/**\n * Find style which inject by rc-util\n */\nfunction findStyles(container) {\n  return Array.from((containerCache.get(container) || container).children).filter(function (node) {\n    return node.tagName === 'STYLE';\n  });\n}\nfunction injectCSS(css) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!(0, _canUseDom.default)()) {\n    return null;\n  }\n  var csp = option.csp,\n    prepend = option.prepend;\n  var styleNode = document.createElement('style');\n  styleNode.setAttribute(APPEND_ORDER, getOrder(prepend));\n  if (csp === null || csp === void 0 ? void 0 : csp.nonce) {\n    styleNode.nonce = csp === null || csp === void 0 ? void 0 : csp.nonce;\n  }\n  styleNode.innerHTML = css;\n  var container = getContainer(option);\n  var firstChild = container.firstChild;\n  if (prepend) {\n    // If is queue `prepend`, it will prepend first style and then append rest style\n    if (prepend === 'queue') {\n      var existStyle = findStyles(container).filter(function (node) {\n        return ['prepend', 'prependQueue'].includes(node.getAttribute(APPEND_ORDER));\n      });\n      if (existStyle.length) {\n        container.insertBefore(styleNode, existStyle[existStyle.length - 1].nextSibling);\n        return styleNode;\n      }\n    }\n    // Use `insertBefore` as `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n  return styleNode;\n}\nfunction findExistNode(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var container = getContainer(option);\n  return findStyles(container).find(function (node) {\n    return node.getAttribute(getMark(option)) === key;\n  });\n}\nfunction removeCSS(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var container = getContainer(option);\n    container.removeChild(existNode);\n  }\n}\n/**\n * qiankun will inject `appendChild` to insert into other\n */\nfunction syncRealContainer(container, option) {\n  var cachedRealContainer = containerCache.get(container);\n  // Find real container when not cached or cached container removed\n  if (!cachedRealContainer || !(0, _contains.default)(document, cachedRealContainer)) {\n    var placeholderStyle = injectCSS('', option);\n    var parentNode = placeholderStyle.parentNode;\n    containerCache.set(container, parentNode);\n    container.removeChild(placeholderStyle);\n  }\n}\n/**\n * manually clear container cache to avoid global cache in unit testes\n */\nfunction clearContainerCache() {\n  containerCache.clear();\n}\nfunction updateCSS(css, key) {\n  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var container = getContainer(option);\n  // Sync real parent\n  syncRealContainer(container, option);\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var _option$csp, _option$csp2;\n    if (((_option$csp = option.csp) === null || _option$csp === void 0 ? void 0 : _option$csp.nonce) && existNode.nonce !== ((_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce)) {\n      var _option$csp3;\n      existNode.nonce = (_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce;\n    }\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n    return existNode;\n  }\n  var newNode = injectCSS(css, option);\n  newNode.setAttribute(getMark(option), key);\n  return newNode;\n}"]},"metadata":{},"sourceType":"script"}